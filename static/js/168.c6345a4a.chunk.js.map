{"version":3,"file":"static/js/168.c6345a4a.chunk.js","mappings":"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","sources":["webpack://react-the-movie-db/./src/components/Loader/Loader.module.css?d03f","components/Loader/Loader.jsx","webpack://react-the-movie-db/./src/components/Reviews/Reviews.module.css?7248","components/Reviews/Reviews.jsx","consts/consts.js","services/themoviedb-api.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"threeCircles\":\"Loader_threeCircles__HPJ-9\"};","import { ThreeCircles } from 'react-loader-spinner';\nimport styles from './Loader.module.css';\n\nexport const Loader = () => {\n  return (\n    <ThreeCircles\n      height=\"100\"\n      width=\"100\"\n      color=\"#4fa94d\"\n      wrapperStyle={{}}\n      wrapperClass={styles.threeCircles}\n      visible={true}\n      ariaLabel=\"three-circles-rotating\"\n      outerCircleColor=\"\"\n      innerCircleColor=\"\"\n      middleCircleColor=\"\"\n    />\n  );\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"reviewsList\":\"Reviews_reviewsList__hDAQA\",\"reviewsAuthor\":\"Reviews_reviewsAuthor__vf7dl\",\"reviews\":\"Reviews_reviews__n3fdK\"};","import { useParams } from 'react-router-dom';\nimport { useState, useEffect } from 'react';\nimport { Loader } from '#components/Loader/Loader';\nimport { fetchMovieDetailsById } from '#services/themoviedb-api';\nimport { STATUS } from '#consts/consts';\nimport css from './Reviews.module.css';\n\nconst Reviews = () => {\n  const { movieId } = useParams();\n  const [movieReviews, setMovieReviews] = useState();\n  const [status, setStatus] = useState(STATUS.IDLE);\n  const [error, setError] = useState();\n  const [loader, setLoader] = useState(false);\n\n  useEffect(() => {\n    const getMovieDetails = async () => {\n      setStatus(STATUS.PENDING);\n      setLoader(true);\n      try {\n        const details = await fetchMovieDetailsById(movieId, 'reviews');\n        setMovieReviews(details.results);\n        setStatus(STATUS.RESOLVED);\n      } catch (err) {\n        setError(err.message);\n        setStatus(STATUS.REJECTED);\n        console.log(err.message);\n      } finally {\n        setLoader(false);\n      }\n    };\n    getMovieDetails();\n  }, [movieId]);\n\n  switch (status) {\n    case STATUS.PENDING:\n      return loader && <Loader />;\n\n    case STATUS.RESOLVED:\n      return (\n        <ul className={css.reviewsList}>\n          {movieReviews.length ? (\n            movieReviews.map(({ id, content, author_details: { name } }) => (\n              <li key={id}>\n                <p className={css.reviewsAuthor}>Author: {name}</p>\n                <p>{content}</p>\n              </li>\n            ))\n          ) : (\n            <p className={css.reviews}>\n              We don't have any reviews for this movie.\n            </p>\n          )}\n        </ul>\n      );\n\n    case STATUS.REJECTED:\n      return <p>{error}</p>;\n\n    default:\n      break;\n  }\n};\n\n// At the moment, React.lazy() does not support using named\n// exports for React components. If you wish to use named exports\n// containing React components, you need to reexport them as\n// default exports in separate intermediate modules.\n\nexport { Reviews as default };\n","export const API_KEY = process.env.REACT_APP_API_KEY;\nexport const API_BASE_URL = 'https://api.themoviedb.org/3';\n\nexport const API_ENDPOINTS = {\n  TRENDING_MOVIES: '/trending/movie/day',\n  MOVIE_DETAILS: '/movie/',\n  SEARCH_MOVIE: '/search/movie',\n};\n\nexport const STATUS = {\n  IDLE: 'idle',\n  PENDING: 'pending',\n  RESOLVED: 'resolved',\n  REJECTED: 'rejected',\n};\n\nexport const ERROR_MESSAGE = 'Oops! Sorry, something went wrong. ðŸ˜¢';\n","import axios from 'axios';\nimport Notiflix from 'notiflix';\n\nimport {\n  API_KEY,\n  API_BASE_URL,\n  API_ENDPOINTS,\n  ERROR_MESSAGE,\n} from '#consts/consts';\n\naxios.defaults.baseURL = API_BASE_URL;\naxios.defaults.params = { api_key: API_KEY };\n\n// a list of the most popular movies for today to create a collection on the home page page.\nexport const fetchTrendingMovies = async () => {\n  try {\n    const response = await axios(API_ENDPOINTS.TRENDING_MOVIES);\n    return response.data.results;\n  } catch {\n    throw new Error(Notiflix.Notify.failure(ERROR_MESSAGE));\n  }\n};\n\n// Request full movie info for the movie page.\nexport const fetchMovieDetailsById = async (id, extraInfo = '') => {\n  const extraInfoPath = extraInfo ? `/${extraInfo}` : '';\n  try {\n    const response = await axios(\n      `${API_ENDPOINTS.MOVIE_DETAILS}${id}${extraInfoPath}`\n    );\n    return response.data;\n  } catch {\n    throw new Error(Notiflix.Notify.failure(ERROR_MESSAGE));\n  }\n};\n\n// keyword search for a movie on the movies page.\nexport const fetchMovieByKeyword = async search => {\n  const queryParams = `?query=${search}`;\n  try {\n    const response = await axios(`${API_ENDPOINTS.SEARCH_MOVIE}${queryParams}`);\n    return response.data.results;\n  } catch {\n    throw new Error(Notiflix.Notify.failure(ERROR_MESSAGE));\n  }\n};\n"],"names":["Loader","_jsx","ThreeCircles","height","width","color","wrapperStyle","wrapperClass","styles","visible","ariaLabel","outerCircleColor","innerCircleColor","middleCircleColor","Reviews","movieId","useParams","movieReviews","setMovieReviews","useState","status","setStatus","STATUS","IDLE","error","setError","loader","setLoader","useEffect","async","PENDING","details","fetchMovieDetailsById","results","RESOLVED","err","message","REJECTED","console","log","getMovieDetails","className","css","children","length","map","_ref","id","content","author_details","name","_jsxs","API_KEY","process","API_BASE_URL","API_ENDPOINTS","TRENDING_MOVIES","MOVIE_DETAILS","SEARCH_MOVIE","ERROR_MESSAGE","axios","defaults","baseURL","params","api_key","fetchTrendingMovies","data","Error","Notiflix","failure","extraInfo","arguments","undefined","extraInfoPath","concat","fetchMovieByKeyword","queryParams","search"],"sourceRoot":""}